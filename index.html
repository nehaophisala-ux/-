<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Video Master Pro</title>
    <style>
        body { font-family: sans-serif; background: #0f172a; color: white; padding: 20px; text-align: center; }
        .container { max-width: 600px; margin: auto; background: #1e293b; padding: 25px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.5); }
        input, button { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: none; }
        input { background: #0f172a; color: white; border: 1px solid #334155; }
        button { background: #3b82f6; color: white; font-weight: bold; cursor: pointer; }
        #status { color: #fbbf24; margin: 15px 0; font-weight: bold; }
        .result-box { background: #334155; padding: 15px; border-radius: 10px; margin-top: 20px; text-align: left; display: none; }
        video, audio { width: 100%; margin-top: 10px; border-radius: 8px; }
    </style>
</head>
<body>

<div class="container">
    <h2>üé¨ AI Video Master Pro</h2>
    <input type="text" id="topic" placeholder="‡§Ö‡§™‡§®‡§æ ‡§ü‡•â‡§™‡§ø‡§ï ‡§Ø‡§π‡§æ‡§Å ‡§≤‡§ø‡§ñ‡•á‡§Ç...">
    <button id="startBtn">‡§Æ‡•à‡§ú‡§ø‡§ï ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</button>
    <div id="status">‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à...</div>

    <div id="resBox" class="result-box">
        <strong>üìù ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü:</strong> <p id="outScript"></p>
        <strong>üîä ‡§Ü‡§µ‡§æ‡•õ:</strong> <audio id="outAudio" controls></audio>
        <strong>üìπ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã:</strong> <div id="outVideo"></div>
    </div>
</div>

<script>
    const CONFIG = {
        G_KEY: "AIzaSyC2aoLEKGTaVtqkJ7ZRV4CICd03OfsKcwQ",
        P_KEY: "5FoLxS7oaY0jDXnJXwj2xRZBffOP5kGVyj1pTnQZjL2GkqyFj8biY4YU",
        H_KEY: "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"
    };

    document.getElementById('startBtn').onclick = async () => {
        const topic = document.getElementById('topic').value;
        const status = document.getElementById('status');
        const resBox = document.getElementById('resBox');
        if(!topic) return alert("‡§ü‡•â‡§™‡§ø‡§ï ‡§≤‡§ø‡§ñ‡•á‡§Ç!");

        status.innerText = "‚è≥ AI ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§≤‡§ø‡§ñ ‡§∞‡§π‡§æ ‡§π‡•à...";
        resBox.style.display = "none";

        try {
            // 1. Gemini AI Script
            const gResp = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${CONFIG.G_KEY}`, {
                method: "POST", headers: {"Content-Type":"application/json"},
                body: JSON.stringify({contents:[{parts:[{text:`Write a 20 word motivational quote in Hindi about ${topic}`}]}]})
            });
            const gData = await gResp.json();
            const script = gData.candidates[0].content.parts[0].text;
            document.getElementById('outScript').innerText = script;

            // 2. HuggingFace Voice
            status.innerText = "‚è≥ ‡§Ü‡§µ‡§æ‡•õ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã ‡§∞‡§π‡•Ä ‡§π‡•à (‡§á‡§∏‡§Æ‡•á‡§Ç 10s ‡§≤‡§ó ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç)...";
            const hResp = await fetch("https://api-inference.huggingface.co/models/facebook/mms-tts-hin", {
                headers: { Authorization: `Bearer ${CONFIG.H_KEY}` },
                method: "POST", body: JSON.stringify({ inputs: script })
            });
            if(!hResp.ok) throw new Error("Voice API Error");
            const audioBlob = await hResp.blob();
            document.getElementById('outAudio').src = URL.createObjectURL(audioBlob);

            // 3. Pexels Video
            status.innerText = "‚è≥ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§ï‡•ç‡§≤‡§ø‡§™ ‡§¢‡•Ç‡§Å‡§¢ ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...";
            const pResp = await fetch(`https://api.pexels.com/v1/videos/search?query=${topic}&per_page=1`, {
                headers: { Authorization: CONFIG.P_KEY }
            });
            const pData = await pResp.json();
            const videoUrl = pData.videos[0].video_files[0].link;
            document.getElementById('outVideo').innerHTML = `<video src="${videoUrl}" controls loop></video>`;

            status.innerText = "‚úÖ ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à!";
            resBox.style.display = "block";
        } catch (e) {
            status.innerText = "‚ùå ‡§è‡§∞‡§∞: ‡§ö‡§æ‡§¨‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§≤‡§ø‡§Æ‡§ø‡§ü ‡§Ø‡§æ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§ï‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡•§";
            console.error(e);
        }
    };
</script>
</body>
</html>
